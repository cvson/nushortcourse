
void titleStyleGraph(TGraph* h1){
    h1->GetYaxis()->CenterTitle();
    h1->GetXaxis()->CenterTitle();
    h1->GetXaxis()->SetLabelSize(h1->GetXaxis()->GetTitleSize()*1.2);
    h1->GetYaxis()->SetLabelSize(h1->GetYaxis()->GetTitleSize()*1.2);
    h1->GetXaxis()->SetTitleSize(h1->GetXaxis()->GetLabelSize()*1.2);
    h1->GetYaxis()->SetTitleSize(h1->GetYaxis()->GetLabelSize()*1.2);
    h1->GetYaxis()->SetTitleOffset(0.8);
    h1->GetXaxis()->SetTitleOffset(0.9);
}

void world_covid_plot(){
    //view-source:https://www.worldometers.info/coronavirus/
    //use chrome to get source file then get data
    TString savename="world_covid_20210822";
    Double_t newCase[] = {
      271,475,701,787,1784,1479,1763,2016,2138,2626,2857,3253,3927,3728,3184,3453,2685,3004,2569,2050,14180,5175,2681,2132,2158,2031,1880,534,1034,1058,1038,629,992,861,1135,1455,1817,2198,2627,2605,3299,3170,4277,5081,5720,5866,7188,8696,11222,14248,16608,17198,19243,20556,23148,27283,32076,38904,34089,36776,44586,45957,49749,62155,67183,67769,61441,64728,75609,78317,79448,86375,82411,74073,76041,83569,89074,89986,97810,85652,76448,76164,80399,87064,87557,90234,85308,78326,82386,82334,84682,87149,98218,91809,75490,71037,79604,85445,89841,95749,83446,82478,81301,84200,97155,96988,96868,88873,80820,73676,89579,92616,98575,102893,97655,83716,92169,99517,105996,109725,110162,102726,98355,92220,95593,110076,120212,129599,126874,111382,103621,120210,123833,134094,133645,131536,116986,110281,124876,139813,141710,145435,137914,126774,128494,148840,151113,145675,186441,162201,134321,143394,169272,179795,186224,199368,184218,168077,163366,183591,204427,216039,219406,201117,180460,176396,216453,221155,231023,243154,223132,201949,196839,228415,242067,253939,245185,232836,223236,204834,246516,285515,279383,292887,267335,223828,218053,255381,294546,290499,294652,265083,224142,201972,260494,278136,287499,287126,277141,226601,219893,274560,294409,290756,294130,270551,220257,205085,265333,280642,276907,268348,272649,216751,219294,263055,282069,281785,294199,269757,229226,250641,268329,292684,294249,310644,282629,243244,206373,252025,295704,308076,321739,296150,255977,250647,288383,314029,318016,326947,304226,260177,238784,283488,322341,318835,325996,309043,262037,239984,294530,321980,326736,331149,306667,259362,273326,317310,353449,361212,364591,377641,292168,278731,325705,387821,404183,419261,398758,345425,345022,395245,447711,484683,495001,477416,429434,415439,469835,517735,550035,575301,504344,466806,472295,502914,576330,627337,632043,633253,501423,486163,573180,628901,655466,662717,606494,515017,502005,577188,623543,665087,669114,612811,522203,535767,575063,643023,623508,609439,597203,524250,497306,594051,647193,692230,693334,647436,548387,527081,613328,661664,700374,711665,660307,549709,535129,607809,728854,736998,719622,642333,560441,542970,622943,695617,698226,538953,470780,446671,504613,643121,735089,762268,640778,569729,540604,567008,720564,806269,842120,840182,770417,639283,593861,686911,745733,752445,757762,679596,557637,480438,595323,666253,650890,638103,602633,481385,441557,532701,589587,597734,582723,530916,415835,393057,456287,487187,506291,494326,442622,361057,322300,389857,441809,443487,427246,387414,302955,264926,345872,397161,401765,410920,385223,319595,287488,378059,443454,448471,435225,397355,320432,296258,372633,445013,449921,453022,413950,378107,294307,394109,468586,481858,493108,452703,375990,339575,455016,534387,551711,557603,517158,436025,426935,505030,589685,633930,633505,595363,500888,460406,547705,645881,705732,651377,567080,551056,480858,635547,689096,746162,791271,720260,652298,589810,741614,813155,842982,836445,802492,729289,660820,829492,887428,889123,901131,843800,744734,676481,836446,892183,903206,875862,815712,697138,673626,783633,849198,860775,840848,796026,665559,611714,716094,755854,746529,701689,647066,549061,537903,616774,664621,656692,624712,583297,490173,444804,526633,561881,538198,510034,501311,414473,368607,450256,491429,476172,421382,410432,339088,315010,364175,423378,437791,415670,381434,309764,303206,372472,401172,389994,404831,367860,304570,280688,377442,433482,406032,412498,381435,322841,317784,383843,398025,433731,440946,398307,353803,348508,434319,463639,488340,496740,448917,401922,399613,515073,556969,567381,566535,526436,494161,433028,519580,565404,573165,583204,546209,494545,465086,604860,665053,668059,654443,596229,546591,502090,622857,693389,715789,706028,642728,568784,525225,652039,707230,723773,731213,648239,563115,535795,669156,707493,734007,712134,559965,456557

    };
    
    Double_t newDeadthCase[]={
        9,19,15,24,26,27,39,44,46,45,58,64,67,73,73,86,94,98,108,97,146,122,133,142,106,98,136,117,121,113,100,158,81,64,37,58,65,54,73,67,85,83,103,106,106,229,197,277,332,356,453,422,708,653,838,998,1128,1425,1669,1707,2000,2593,2654,3145,3563,3882,3530,4326,4799,5448,6428,6274,6437,5370,5815,7883,7086,8019,7385,6548,5949,5981,7683,8465,7255,8828,7005,5270,6084,7768,6953,7188,6850,6595,4499,5253,7447,7363,6376,6627,6297,4479,5307,6685,7365,6412,6165,5440,5118,4627,6496,5919,5976,5825,5011,4056,4482,5970,5404,5826,5534,4850,4118,4457,4712,5726,5333,5483,4859,4125,4119,5607,5657,5645,5329,4939,4393,4205,5661,5876,5571,5436,5110,4330,4537,7438,5913,5914,5834,5058,4431,4036,5874,5504,5592,5383,5112,4222,4724,5752,5554,5665,5701,5197,4284,4558,6229,5922,6076,5951,5671,5036,4836,6351,6357,6618,6313,5766,5130,5029,6732,7582,6862,6859,6311,4889,5103,6415,7272,7380,6767,6151,4985,5365,6887,7367,7015,6954,6012,5359,5305,6716,6965,6988,6443,6011,5104,5190,6880,6959,6620,6596,6087,4995,4999,6659,6602,6461,6213,5684,4666,4864,6400,6518,6137,6091,5275,4594,4479,4984,6097,5913,5900,5224,4317,4740,6298,5969,5659,5795,5151,4296,4181,5759,5845,5438,5478,5289,4048,3906,5756,5658,5587,5692,4939,4283,4653,5851,5969,6504,5936,5327,4613,4157,5235,6187,6122,6358,5830,4347,4857,6503,6881,6538,6642,5971,4877,5579,7404,7225,7253,7662,6930,5825,6326,8643,9523,9040,9462,8006,6657,7377,9743,10408,9760,10074,9646,7435,8066,10896,11940,11300,11343,9540,8162,8867,12344,12286,11351,11075,9917,8128,9167,12578,12591,12747,12546,10694,8349,9084,12449,12500,12939,12574,11234,8503,9598,13616,13806,13458,13053,11483,8976,10369,13844,13778,12230,9350,7974,8572,10243,14868,15551,14044,10494,8936,8425,10398,14813,15044,15010,15359,13101,9777,10513,16707,16871,15935,15507,13937,9983,10404,16087,17543,17004,15964,14722,10340,10964,17118,17509,16846,15258,13140,9696,10787,15695,15486,14353,14219,11671,8240,9367,13769,13758,13310,12243,10588,7292,7338,10341,11258,11495,11220,8866,6910,7158,10954,10694,10633,9862,8528,6628,7270,10032,10810,10147,9771,8156,6133,7108,9222,10042,9831,9557,8366,6204,7299,10322,10432,10161,10535,8614,6337,7639,10897,10425,10759,11635,10133,7271,8092,11380,12221,11823,10651,9197,7626,8090,12467,13232,14010,13533,11443,8998,9571,13283,13837,14267,12985,12132,10090,10650,14706,14315,13841,14731,14139,10532,11524,15642,15677,15853,14664,13940,10878,11630,14771,15295,14627,14540,13633,11051,11644,14611,14646,14529,14158,13402,10740,11620,14907,13759,14086,13646,11770,10632,9640,12902,12806,11996,12104,11058,8655,9036,11187,11375,11139,10548,9461,7837,7991,10352,10277,10240,9494,8711,6943,6853,9297,9520,8789,9111,8809,6881,6513,8952,9143,8707,8778,7716,6404,6395,7928,8834,8355,8578,7378,6362,6369,8290,8490,8923,8521,7662,6642,6566,8192,8719,8610,8749,7397,7095,6964,8435,8691,9005,8775,8503,7147,7599,9570,10213,10556,9457,9178,8022,8296,10248,10078,10500,10212,9576,8409,8235,10461,10470,10740,10207,9082,8539,7957,10196,10629,11013,10322,8771,8336

        
    };
    
    Double_t newCase_US[] = {
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,//add to mach
        0,0,0,0,0,20,0,0,18,4,3,0,3,5,7,25,24,34,63,98,116,106,163,290,307,1435,771,804,1044,1319,2426,3735,5358,6571,6000,10071,11515,13027,14746,18996,20307,20314,20927,24186,26559,27785,29308,33657,33972,26373,31242,34935,33284,33908,34508,30157,26083,27391,29890,32121,30800,34268,29723,25625,29331,27986,32383,32473,36509,35384,26963,23685,27524,30037,32219,36075,28970,26028,24654,26483,25988,29757,29257,25421,20298,18710,24825,23352,27530,28262,24042,19799,23135,22620,23627,28424,25344,22170,18987,18507,19641,21450,24163,26390,23735,20657,18584,23476,21671,23606,25741,23282,19364,18622,20055,22222,24157,27515,25810,19733,20277,27652,28216,29990,35322,35214,27187,32320,38397,41011,42498,48718,47160,41508,43108,51673,55352,61356,61970,52802,45655,52656,60862,66616,65821,75097,65802,59373,63345,71692,75810,75636,76964,67176,63922,59546,71653,74415,70973,79614,71772,53501,58428,69063,67810,69679,73407,61858,47442,47814,57991,57774,59935,64268,60130,46821,47934,58115,57513,55099,62221,55728,37543,39814,47082,46783,47218,52670,45378,34907,38771,44841,45123,46302,49597,44714,33732,35936,44807,42943,46477,53587,43742,31711,24341,28855,38685,41356,47674,41480,31739,35762,41041,42143,47581,49815,44663,32394,34722,39346,44098,46212,50839,45105,31784,36604,46146,43696,47243,52028,49012,33473,40042,48333,51437,59896,60242,56212,41571,46100,57910,60637,66875,71320,61604,46813,55019,67857,68349,77267,81563,81262,61567,69316,82375,84575,94681,102478,91820,75285,86031,105740,113708,129660,136286,135386,108246,120926,159557,150527,167654,183781,163953,143007,153088,176189,175969,199770,201493,180784,146261,169806,188508,184731,163100,154254,152683,148989,162928,193826,210578,223455,235879,217483,178367,193042,219645,225733,228914,245108,227585,188816,200410,212034,253733,238305,250602,204617,185657,200742,206384,231572,215112,153657,166834,150953,187261,209657,231777,247263,230384,233390,207782,200557,243496,263857,280189,304790,263004,217063,218413,233060,239020,233212,246842,208045,178737,149756,179021,191873,195286,194536,175729,141221,149162,156206,158412,166155,168141,148911,111657,127095,118228,112311,123301,131260,109385,91785,89002,98382,98013,105716,101963,88521,65998,53164,63395,72823,69573,83577,72850,57539,58235,73147,76909,77674,80033,65684,52614,54101,58746,67179,67724,69270,59740,43794,44715,56156,60146,62682,67552,52231,43008,45493,52932,63390,63337,65280,59262,46212,45827,60532,66431,66938,76740,68046,52011,57375,64080,70203,77004,73855,70426,46948,56246,63894,75234,80203,84852,72592,56820,55921,77383,78737,74257,81062,70917,51049,50835,61154,65183,65881,66665,58190,41957,46838,52033,56634,59305,59200,50093,36776,39558,42399,46038,48045,48814,39143,26434,28795,35093,36007,39428,38387,28915,21572,23682,27787,29237,30600,28813,23460,17364,19429,22641,23811,24250,22216,16854,11562,8872,12400,16180,18010,18413,15969,11637,13453,15005,15631,16323,15782,13134,9393,10608,12792,14333,13513,13747,11373,8349,9572,13160,14891,15690,15772,12143,10171,11443,14355,17460,18056,18944,14349,12942,12125,14039,22634,26320,29812,24388,21511,20895,33379,37620,40376,43278,42215,34519,34312,49405,62079,65773,73361,67026,54937,50754,84676,88543,98610,109581,92532,78549,75904,110698,121574,130607,137697,124338,101723,98371,132207,148831,150621,163312,139196,109827,109603,146730,164413,161003,177236,83960,30810

    };
    
    Double_t newDeadthCase_US[] = {
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,//add to mach
       0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,5,3,2,1,3,4,3,4,4,8,2,7,10,16,21,27,51,70,74,64,144,178,275,322,375,501,668,516,831,1111,1295,1190,1315,1598,1458,1521,2290,2235,2158,2285,2096,1803,1737,2599,2718,2258,2612,1955,1630,2003,2768,2420,2406,2003,2153,1227,1466,2507,2482,2293,1983,1759,1201,1388,2353,2537,2149,1708,1456,1268,1108,1886,1822,1764,1635,1205,911,1083,1568,1435,1490,1333,1041,681,698,818,1490,1248,1226,1030,708,715,1137,1122,1039,978,735,433,600,1070,1009,894,768,745,371,466,824,859,754,737,569,303,403,876,834,678,685,555,342,402,711,693,678,648,366,329,458,1038,966,1028,903,776,525,602,992,1072,1034,1044,927,562,671,1273,1312,1195,1322,1031,654,744,1351,1470,1833,1386,1116,621,753,1387,1353,1359,1400,1068,647,658,1388,1434,1337,1131,1064,643,654,1315,1277,1136,1208,1092,577,558,1181,1293,1149,1130,952,513,590,1093,1083,1069,1025,755,534,402,527,1072,968,1016,701,485,521,1111,935,821,851,682,391,417,947,989,837,840,735,370,412,912,821,820,849,718,388,459,771,875,865,881,698,335,375,733,934,808,921,681,567,496,915,1167,954,853,838,516,615,1015,1031,1018,984,1019,568,645,1238,1366,1270,1342,1132,787,822,1510,1562,1361,1487,1443,883,988,1661,2125,2105,2122,1701,1028,1292,2247,2420,1642,1538,1411,1034,1539,2754,2962,2858,2775,2424,1357,1759,2890,3261,3107,3009,2570,1600,1855,3191,3687,3451,3159,2754,1663,2278,3481,3435,2939,1723,1610,1461,2273,3792,4085,3635,2562,2096,1523,2005,3863,4112,4294,3959,3335,2063,2253,4489,4221,4206,3961,3410,2018,1633,2956,4378,4446,3850,3557,1987,2040,4079,4390,3998,3684,2806,1808,2308,3717,3987,3553,3592,2924,1489,1645,3158,3357,3234,3006,2379,1173,967,1718,2439,2653,2586,1858,1306,1320,2391,2494,2392,2212,1589,1319,1444,2033,2334,1997,1819,1650,864,899,1377,1659,1574,1482,1064,735,832,1120,1358,1360,1247,841,528,694,1030,1423,1201,1201,883,573,705,863,1076,973,969,749,343,539,848,888,994,890,750,389,526,818,937,901,863,752,334,527,868,871,914,807,755,348,476,876,887,911,753,704,375,482,819,720,815,735,652,305,393,711,785,767,749,537,370,401,677,645,676,591,572,323,387,622,616,627,620,412,222,171,327,513,573,579,468,236,355,428,502,490,406,360,170,266,344,384,354,371,266,174,267,389,369,373,335,213,144,182,316,294,324,307,180,150,159,279,290,322,331,228,149,245,377,371,369,357,247,173,202,348,405,410,363,301,218,268,436,508,487,503,443,352,419,656,636,663,724,553,415,379,874,772,818,904,579,416,471,987,1108,1029,1101,522,198

    };

    Double_t newCase_IN[]={
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,//add to mach
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,1,22,1,1,3,6,7,15,0,12,8,18,14,15,14,26,25,55,83,64,103,37,121,70,160,100,37,227,146,601,545,516,529,701,489,573,565,809,875,846,759,1248,1034,883,1060,922,2013,1250,924,1541,1290,1669,1408,1836,1607,1561,1873,1738,1801,2394,2442,2806,3932,2963,3587,3364,3344,3113,4353,3607,3524,3763,3942,3787,4864,5050,4630,6147,5553,6198,6568,6629,7113,6414,5843,7293,7300,8105,8336,8782,7761,8821,9633,9889,9471,10438,10864,8442,8852,12375,11128,11320,12023,11157,10243,11135,13103,13827,14721,15915,15183,13540,15665,16870,18185,18276,20131,19620,18339,18256,19428,21948,22721,24015,23932,22510,23135,25571,25790,27761,27755,29108,28179,29842,32682,35468,34820,37407,40243,36810,39168,45599,48446,48892,48472,50525,46484,49632,52249,54966,57704,54865,52783,50629,51282,56626,62170,61455,65156,62117,53016,61252,67066,64142,65609,63986,58108,54288,65022,69196,68507,69039,70068,61749,59696,66873,75995,76826,76665,78472,79457,68770,78169,82860,84156,87115,90600,91723,75022,89852,95529,96760,97654,94409,93215,81911,91120,97859,96793,92789,92755,87382,74493,80391,89688,85919,85468,89010,82767,69671,80500,86748,81693,79974,75479,74767,59893,72106,78809,70824,73196,74535,67757,54265,63517,67988,60439,65126,62092,55511,46498,54422,56000,54482,54028,50224,45158,36838,42965,49912,49281,48120,46715,46441,37592,46033,50465,47622,49851,46318,46661,37211,44679,48285,43861,45343,41659,30715,28555,38532,45439,46182,46288,45295,44404,37410,44276,44699,43174,41353,41815,39036,31179,36456,33761,38309,36638,36111,32272,27107,32067,26351,34666,30034,30354,27336,21791,26401,18164,26762,26991,26834,24589,19174,23886,24236,23924,22350,18574,20333,16072,20529,21957,19046,17080,21222,16660,16278,17909,20460,18106,18482,18820,16085,12482,15903,17015,15677,15151,15051,13962,9975,13795,15277,14481,14344,14891,13239,9036,12569,11752,18940,13055,13065,11528,8587,11000,12917,12410,11689,11948,11673,8947,10510,12760,9353,12137,12188,11434,9139,11795,12440,12643,14587,14315,13980,10792,13463,17144,16568,16056,17346,15616,11563,15704,17425,16824,18292,18716,18691,15353,16846,22841,21668,27512,25153,26514,24437,28869,35838,39643,40950,43815,47009,40611,47264,53419,59069,62291,62631,68206,56119,53158,72182,81441,89019,92998,103793,96557,115269,126315,131893,144829,152682,169914,160694,185248,199569,216850,233943,260778,275306,256947,294290,315802,332503,345147,349313,354531,319435,362902,379459,386888,402110,392562,370059,355828,382691,412618,414433,401326,409300,366499,329517,348499,362406,343288,326123,310822,281860,263045,267174,276261,259269,254395,243777,222835,195815,208886,211553,179770,171726,174041,153485,126698,133228,134105,131371,121476,114537,101232,87345,91227,93896,91266,84695,81005,68400,62597,62226,67294,62409,60800,58588,53009,39096,54393,54319,51248,49052,49851,46643,37037,45699,48878,43360,47252,43296,40387,34067,43957,45674,43538,42648,41475,37676,30827,40215,41854,39072,38112,41283,38325,29424,42123,41697,34865,39498,40284,38153,30844,42928,43211,44673,41499,41790,40784,30031,42566,42817,45001,38700,39070,36035,27429,36316,43641,40078,38775,36127,33221,24725,35201,35797,37312,34296,31043,25420

    };
    
    Double_t newDeadthCase_IN[] = {
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,//add to mach
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,1,0,1,1,0,3,3,0,2,8,0,4,3,5,3,23,14,14,13,19,18,24,18,49,22,39,43,27,35,29,26,38,36,38,33,53,36,40,59,45,56,58,69,71,75,70,101,68,175,127,92,105,96,116,112,82,121,137,98,104,119,154,132,146,132,150,143,142,156,149,173,191,177,269,209,224,200,222,260,277,287,297,262,267,247,389,394,390,309,322,396,2007,341,346,370,307,427,313,469,425,402,381,415,387,418,510,442,381,448,613,422,479,480,492,486,522,548,505,547,595,624,687,680,546,676,602,679,1127,758,768,698,728,640,786,782,792,774,862,765,820,858,933,913,949,889,1020,902,846,957,1013,1002,961,977,884,1101,987,985,963,927,853,866,1078,1024,1072,1028,948,967,822,1036,1035,1087,1075,1051,1011,1134,1110,1175,1220,1211,1116,1150,1061,1287,1148,1179,1224,1150,1137,1060,1058,1153,1147,1095,1128,1041,780,1179,1186,1097,1074,938,904,893,992,964,968,933,928,814,717,727,698,839,893,1039,582,599,720,709,688,662,581,468,512,524,512,573,556,472,498,500,516,708,681,582,562,497,456,515,554,525,544,453,439,454,476,592,590,564,502,514,485,493,521,495,490,499,448,486,503,502,575,513,484,376,405,406,339,490,444,397,341,356,387,359,346,345,346,334,306,334,306,353,252,284,284,252,287,302,247,189,268,216,202,270,225,237,232,214,153,170,203,202,190,177,184,148,139,162,154,164,157,158,134,119,129,137,163,139,131,117,95,116,109,121,95,73,87,82,86,120,86,105,86,92,77,110,90,86,118,100,80,81,101,145,120,110,118,108,80,110,87,114,110,99,100,77,113,135,113,158,160,121,131,188,172,156,190,197,214,198,278,250,258,293,312,296,267,356,459,472,718,518,481,450,636,690,810,780,847,914,890,1043,1059,1208,1355,1530,1655,1798,2070,2155,2313,2677,2835,2873,2830,3367,3731,3587,3602,4318,3739,3884,4358,4423,4244,4567,4476,4069,4381,4837,4706,4530,4870,4859,4378,4714,4967,4177,4823,4705,4081,5015,3887,4778,4300,3853,3876,3828,3355,3277,3702,3343,3164,3662,2764,2536,2198,2292,2240,2067,1976,1874,1804,1487,1506,1445,1354,1761,1704,1566,1131,1458,1355,1356,1214,1287,1005,929,836,1015,810,811,964,756,562,947,832,926,1228,915,720,546,623,580,544,560,517,501,372,489,510,481,541,542,411,418,640,641,549,598,542,424,420,561,532,464,616,491,447,376,468,519,583,477,491,421,438,440,511,559,376,401,385

    };
    
    Double_t newCase_BR[] = {
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,//add to mach
        0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,1,5,5,6,6,0,9,18,25,74,0,49,34,112,183,111,330,208,368,378,323,307,432,433,488,352,374,1088,1164,1165,1151,1167,895,930,1853,2157,1959,1646,1174,1232,1240,1834,3352,2076,3003,3044,1934,2092,2339,2681,3740,3507,6209,3667,3646,6406,6470,6026,6737,4455,4594,7128,6457,11911,9093,10212,10181,6646,6452,8469,11569,13778,15324,14937,7948,14306,16537,21498,17586,19994,16528,16240,13067,15710,22328,24181,29562,30139,16429,14574,27296,27346,31929,30173,27615,18398,18948,31235,33141,30502,24283,20920,17107,23703,37324,31514,23078,55277,31610,16872,24388,40180,41045,40723,46965,35931,29349,25265,38044,44939,48043,42040,35078,26241,21512,48644,41592,42960,45291,36519,25395,21810,43298,39754,43883,34001,26582,24680,21776,44942,65419,58151,58320,48293,23496,23608,41220,70956,58342,52573,42630,24831,18010,56480,54752,54868,49563,46362,22240,21915,54990,58152,59220,49334,38985,22392,23066,48697,48601,44739,31430,46267,23113,21460,47017,47887,42541,48171,34402,15365,48650,41940,48692,44783,45707,31237,14624,10201,17351,34250,40481,44269,31919,14615,19112,34798,37433,35801,40040,30951,16302,15473,35295,32485,32168,32710,25567,14211,16038,32029,33310,35687,33042,24632,8466,25241,30491,31443,27215,27685,34693,3143,8439,11429,26708,29534,30612,22820,10995,15802,23719,25864,32024,23044,25605,12920,17443,29389,28887,26680,23154,16097,10112,8511,12936,23844,23346,18269,21082,10567,11665,25548,47783,34683,35893,29499,14151,13664,35061,35689,35730,37120,32662,18638,16623,33486,45505,37718,33821,51986,24498,21564,52312,48183,50928,47493,42278,26395,24555,47909,54270,53491,52835,44336,21421,27453,44904,68521,68916,52449,49303,25476,25652,55867,46714,58988,22995,17267,18502,22633,57297,55922,56072,24810,16032,17546,21019,57652,62737,87339,54452,60283,29997,28248,62009,62027,68861,68343,62657,31599,24344,63709,64331,60151,55524,61326,28551,28569,63831,64100,60506,58896,57703,27961,25490,56445,53870,58053,51524,48912,27050,25866,51938,60476,54198,49601,45766,23463,32402,55476,57500,51555,51272,57660,29231,29562,63295,65592,68083,64113,59643,34232,38554,58442,74581,74490,75542,67682,80229,36341,69742,81160,78502,84252,71139,44325,42312,84329,91035,87374,89614,73655,47979,53591,85201,90769,97791,82763,83244,44531,42871,86909,89405,89664,69867,41423,31564,38438,83074,91178,89498,89295,69797,37742,39071,80362,76203,80734,76454,65997,43142,34847,73377,72115,49549,66176,70310,32777,29874,76290,77471,69284,73365,60308,29230,36819,69673,75947,72854,78632,63563,34457,29535,71313,76933,75436,84781,69595,37157,33926,74674,80001,83662,77893,71578,36429,37858,75140,79754,67017,50790,79238,43797,32878,78313,94924,83806,38897,65886,40052,39165,52863,87512,90217,86476,76193,37413,41280,89407,86276,74742,98550,81989,44593,42293,87248,114542,73120,79692,64549,34119,28219,65318,46274,63620,65645,55036,28263,23183,62984,54502,54229,58193,48984,21417,17511,45574,58144,53270,45591,34339,34126,15271,27896,54748,49603,45460,38091,18129,18999,41411,48443,41853,40904,37582,20503,15143,32572,40460,40054,42159,43033,13893,12471,35245,35788,35891,33933,31142,13957,14887,38218,41017,35991,33887,28388,14404
    };
    
    Double_t newDeadthCase_BR[] = {
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,//add to mach
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,3,4,7,7,9,12,13,18,15,22,22,27,38,41,82,39,82,41,78,122,134,134,114,72,83,105,204,225,190,194,220,101,125,154,165,407,357,375,226,272,520,448,390,509,340,275,318,578,667,600,804,664,467,502,779,754,835,824,816,485,735,1130,911,1188,966,965,703,806,1027,1148,1067,1180,890,480,732,1232,1269,1492,1008,910,542,813,1185,1300,1261,843,890,598,729,1338,1209,1204,1221,968,601,748,1364,1103,1180,1055,994,555,727,1271,1057,1277,1264,1111,535,656,1312,1187,1199,1270,968,659,770,1341,1261,1299,1110,885,716,718,1346,1293,1317,1178,1111,556,627,955,1554,1189,1191,1048,514,572,1394,1322,1226,1058,841,593,721,1242,1164,1301,1007,726,582,775,1365,1170,1234,1031,823,495,679,1215,1090,970,868,904,398,619,1166,1218,830,855,646,456,315,516,1136,922,899,800,389,454,1090,967,857,826,708,330,455,809,906,818,826,732,335,385,849,952,805,664,580,364,398,798,733,730,658,544,270,203,354,716,734,716,461,215,321,662,571,503,566,398,237,288,530,487,565,529,340,202,168,276,622,609,256,251,111,241,204,564,926,614,727,138,256,676,754,644,521,354,181,344,638,620,698,501,639,211,317,697,669,776,674,660,321,426,796,848,769,652,690,276,526,909,968,1054,811,669,417,549,963,979,768,483,300,331,495,1075,1224,1036,465,301,276,573,1186,1266,1455,1044,1115,483,477,1109,1283,1151,1131,1059,518,460,1183,1382,1335,1071,1176,606,631,1206,1319,1439,1099,1196,563,609,1240,1209,1291,1244,942,492,687,1340,1357,1452,1204,1046,647,601,1088,1195,1432,1345,1051,554,716,1370,1433,1582,1327,1275,755,818,1726,1840,1786,1760,1498,1054,1114,1954,2349,2207,2152,1940,1111,1275,2798,2736,2659,2730,2331,1259,1570,3158,2244,2639,3600,3368,1605,1969,3668,3950,3673,2807,1931,1233,1623,4211,3733,4190,3647,2535,1824,1738,3687,3462,3774,3070,2865,1553,1607,3481,3157,2070,2866,2986,1316,1279,3120,3019,3074,2870,2278,1210,1054,3025,2791,2531,2217,2091,934,1018,2275,2545,2340,2189,2067,971,1039,2517,2485,2527,2136,1764,894,841,2198,2399,2130,2418,1971,950,874,2346,2394,2078,1184,1661,866,1119,2693,2484,2344,2215,2008,1118,928,2760,2673,2335,2449,2247,1050,899,2080,2343,2042,1990,1547,725,658,1917,2127,1943,1879,1631,776,754,1787,1595,1733,1433,1172,597,765,1613,1574,1552,1450,823,939,615,1425,1388,1444,1286,1080,499,587,1320,1366,1354,886,925,449,473,1238,1118,1086,1006,1275,388,237,1183,1123,975,926,919,385,363,1137,985,1030,925,585,331

    };
    
    Int_t NDATE_D =sizeof(newDeadthCase)/sizeof(newDeadthCase[0]);
    
    Int_t NDATE =sizeof(newCase)/sizeof(newCase[0]);
    Int_t NDATE_US =sizeof(newCase_US)/sizeof(newCase_US[0]);
    Int_t NDATE_IN =sizeof(newCase_IN)/sizeof(newCase_IN[0]);
    Int_t NDATE_BR =sizeof(newCase_IN)/sizeof(newCase_IN[0]);
    //check consitency between two data (daily cases and daily deadth)
    cout<<"Data size fr newCase "<<NDATE<<" fr Deadcase"<<NDATE_D<<" US "<<NDATE_US<<" india "<<NDATE_IN<<" brazil "<<NDATE_BR<<endl;
    
    Double_t* dateIndex = new Double_t[NDATE];
    Double_t* average7day = new Double_t[NDATE];
    Double_t* average7day_US = new Double_t[NDATE];
    Double_t* average7day_IN = new Double_t[NDATE];
    Double_t* average7day_BR = new Double_t[NDATE];
    Double_t* average7day_COMP3 = new Double_t[NDATE];
    
    Double_t* average7day_D = new Double_t[NDATE];
    Double_t* average7day_D_US = new Double_t[NDATE];
    Double_t* average7day_D_IN = new Double_t[NDATE];
    Double_t* average7day_D_BR = new Double_t[NDATE];
    
    for (Int_t idate =0; idate<NDATE; ++idate) {
        //dateIndex[idate] = idate+1;
        dateIndex[idate] = idate-NDATE+1;
        newDeadthCase[idate] *=20.;
        if (idate<6) {
            average7day[idate]= newCase[idate];
            average7day_D[idate] = newDeadthCase[idate];
            
            average7day_US[idate]= newCase_US[idate];
            average7day_D_US[idate] = newDeadthCase_US[idate];
            
            average7day_IN[idate]= newCase_IN[idate];
            average7day_D_IN[idate] = newDeadthCase_IN[idate];
            
            average7day_BR[idate]= newCase_BR[idate];
            average7day_D_BR[idate] = newDeadthCase_BR[idate];
            
        }
        else {
            average7day[idate] =  newCase[idate];
            average7day_D[idate] = newDeadthCase[idate];
            
            average7day_US[idate] =  newCase_US[idate];
            average7day_D_US[idate] = newDeadthCase_US[idate];
            
            average7day_IN[idate] =  newCase_IN[idate];
            average7day_D_IN[idate] = newDeadthCase_IN[idate];
            
            average7day_BR[idate] =  newCase_BR[idate];
            average7day_D_BR[idate] = newDeadthCase_BR[idate];
            
            for (Int_t ith=1; ith<7; ++ith) {
                average7day[idate] += newCase[idate-ith];
                average7day_D[idate] +=newDeadthCase[idate-ith];
                
                average7day_US[idate] += newCase_US[idate-ith];
                average7day_D_US[idate] +=newDeadthCase_US[idate-ith];
                
                average7day_IN[idate] += newCase_IN[idate-ith];
                average7day_D_IN[idate] +=newDeadthCase_IN[idate-ith];
                
                average7day_BR[idate] += newCase_BR[idate-ith];
                average7day_D_BR[idate] +=newDeadthCase_BR[idate-ith];
            }
            average7day[idate] /=7.;
            average7day_D[idate] /=7.;
            
            average7day_US[idate] /=7.;
            average7day_D_US[idate] /=7.;
            
            average7day_IN[idate] /=7.;
            average7day_D_IN[idate] /=7.;
            
            average7day_BR[idate] /=7.;
            average7day_D_BR[idate] /=7.;
            
            
        }
        average7day_COMP3[idate] = average7day_US[idate]+average7day_IN[idate]+average7day_BR[idate];
    }
    
    TGraph *pgr_dailyDead = new TGraph(NDATE,dateIndex, newDeadthCase);
    
    TGraph *pgr_dailyConfirm = new TGraph(NDATE,dateIndex, newCase);
    Double_t* exxcp2 =pgr_dailyConfirm->GetX();
    Double_t* eyycp2 =pgr_dailyConfirm->GetY();
    double xmincp2 = TMath::MinElement(pgr_dailyConfirm->GetN(), exxcp2);
    double xmaxcp2 = TMath::MaxElement(pgr_dailyConfirm->GetN(), exxcp2);
    
    //to fill the tgraph below
    TGraph *gabovecp2 = new TGraph(pgr_dailyConfirm->GetN()+3);
    for (Int_t i=0;i<pgr_dailyConfirm->GetN();i++) gabovecp2->SetPoint(i,exxcp2[i],eyycp2[i]);
    gabovecp2->SetPoint(pgr_dailyConfirm->GetN(),xmaxcp2,pgr_dailyConfirm->GetMaximum());
    gabovecp2->SetPoint(pgr_dailyConfirm->GetN()+1,xmincp2,pgr_dailyConfirm->GetMaximum());
    gabovecp2->SetPoint(pgr_dailyConfirm->GetN()+2,xmincp2,pgr_dailyConfirm->GetMinimum());
    gabovecp2->SetFillColor(15);
    
    //take 7-day average of
    TGraph *pgr_dailyConfirm_ave7 = new TGraph(NDATE,dateIndex,average7day);
    TGraph *pgr_dailyConfirm_ave7_D = new TGraph(NDATE,dateIndex,average7day_D);
    
    TGraph *pgr_dailyConfirm_ave7_US = new TGraph(NDATE,dateIndex,average7day_US);
    TGraph *pgr_dailyConfirm_ave7_D_US = new TGraph(NDATE,dateIndex,average7day_D_US);
    
    TGraph *pgr_dailyConfirm_ave7_IN = new TGraph(NDATE,dateIndex,average7day_IN);
    TGraph *pgr_dailyConfirm_ave7_D_IN = new TGraph(NDATE,dateIndex,average7day_D_IN);

    TGraph *pgr_dailyConfirm_ave7_BR = new TGraph(NDATE,dateIndex,average7day_BR);
    TGraph *pgr_dailyConfirm_ave7_D_BR = new TGraph(NDATE,dateIndex,average7day_D_BR);
    
    TGraph *pgr_dailyConfirm_ave7_COMP3 = new TGraph(NDATE,dateIndex,average7day_COMP3);
    
    TCanvas *c1 = new TCanvas("c1","",1200,800);
    TGaxis::SetMaxDigits(3);
    TLegend* leg0 = new TLegend(.12, .65, 0.6, .89);
    leg0->SetFillStyle(0);
    leg0->SetBorderSize(0);
    leg0->SetTextSize(30);
    leg0->SetTextFont(43);
    leg0->AddEntry(pgr_dailyConfirm, "Daily cases", "f");
    leg0->AddEntry(pgr_dailyConfirm_ave7, "7-day average of daily cases", "l");
    leg0->AddEntry(pgr_dailyDead, "Dead cases (x20)", "l");
    leg0->AddEntry(pgr_dailyConfirm_ave7, "7-day average of dead cases (x20)", "l");
    leg0->SetMargin(0.15);
    
    pgr_dailyConfirm->SetFillColor(15);
    
    pgr_dailyConfirm->Draw("AL");
    gabovecp2->Draw("f same");
    titleStyleGraph(pgr_dailyConfirm);
    pgr_dailyConfirm->GetYaxis()->SetTitle("Number of Covid-19 cases in the World");
    pgr_dailyConfirm->GetXaxis()->SetTitle("Date countdown from 2021 Aug. 22th (=0)");
    pgr_dailyConfirm->SetTitle("");
    pgr_dailyConfirm->SetLineWidth(3);
    pgr_dailyConfirm_ave7->SetLineColor(1);
    pgr_dailyConfirm_ave7->Draw("L same");
    pgr_dailyConfirm_ave7->SetLineWidth(3);
    
    pgr_dailyDead->SetLineWidth(3);
    pgr_dailyDead->SetLineColor(2);
    pgr_dailyDead->Draw("L same");
    
    pgr_dailyConfirm_ave7_D->SetLineColor(42);
    pgr_dailyConfirm_ave7_D->Draw("L same");
    pgr_dailyConfirm_ave7_D->SetLineWidth(3);
    
    leg0->Draw();
    c1->RedrawAxis();
    c1->Print(Form("plots/%s_dailyconfirm.eps",savename.Data()));
    c1->Print(Form("plots/%s_dailyconfirm.png",savename.Data()));
    
    pgr_dailyConfirm->GetXaxis()->SetRangeUser(-60,1);
    c1->Update();
    c1->Print(Form("plots/%s_dailyconfirm_zoom.eps",savename.Data()));
    c1->Print(Form("plots/%s_dailyconfirm_zoom.png",savename.Data()));
    
   
    
    TCanvas *c2 = new TCanvas("c2","",1200,800);
    pgr_dailyConfirm_ave7->Draw("AL");
    pgr_dailyConfirm_ave7->SetTitle("");
    titleStyleGraph(pgr_dailyConfirm_ave7);
    pgr_dailyConfirm_ave7->GetYaxis()->SetTitle("Number of Covid-19 cases");
    pgr_dailyConfirm_ave7->GetXaxis()->SetTitle("Date countdown from 2021 Aug. 22th (=0)");
    
    //gabovecp2->Draw("f same");
    
    pgr_dailyConfirm_ave7_US->SetLineWidth(3);
    pgr_dailyConfirm_ave7_US->SetLineColor(2);
    pgr_dailyConfirm_ave7_US->Draw("L same");
    
    
    pgr_dailyConfirm_ave7_IN->SetLineWidth(3);
    pgr_dailyConfirm_ave7_IN->SetLineColor(4);
    pgr_dailyConfirm_ave7_IN->Draw("L same");
    
    pgr_dailyConfirm_ave7_BR->SetLineWidth(3);
    pgr_dailyConfirm_ave7_BR->SetLineColor(6);
    pgr_dailyConfirm_ave7_BR->Draw("L same");
    
    //pgr_dailyConfirm_ave7_COMP3->SetLineWidth(3);
    //pgr_dailyConfirm_ave7_COMP3->SetLineColor(14);
    //pgr_dailyConfirm_ave7_COMP3->Draw("L same");
    
    TLegend* leg1 = new TLegend(.12, .55, 0.6, .89);
    leg1->SetFillStyle(0);
    leg1->SetBorderSize(0);
    leg1->SetTextSize(30);
    leg1->SetTextFont(43);
    leg1->SetMargin(0.15);
    leg1->AddEntry((TObject*)0, "7-day average of daily cases", "");
    leg1->AddEntry(pgr_dailyConfirm_ave7, "in the whole World", "l");
    leg1->AddEntry(pgr_dailyConfirm_ave7_US, "in the U.S.", "l");
    leg1->AddEntry(pgr_dailyConfirm_ave7_IN, "in India", "l");
    leg1->AddEntry(pgr_dailyConfirm_ave7_BR, "in Brazil", "l");
    leg1->Draw();
    c2->Print(Form("plots/%s_dailyconfirm_comp.eps",savename.Data()));
    c2->Print(Form("plots/%s_dailyconfirm_comp.png",savename.Data()));
    
}
